id: WU-1358
title: Fix CLI docs generation to include all Commander options and add agent --help guidance
lane: 'Framework: CLI'
type: feature
status: ready
priority: P2
created: 2026-02-02
code_paths:
  - tools/generate-cli-docs.ts
  - apps/docs/src/content/docs/reference/cli.mdx
  - docs/04-operations/_frameworks/lumenflow/agent/onboarding/quick-ref-commands.md
  - docs/04-operations/_frameworks/lumenflow/agent/onboarding/starting-prompt.md
tests:
  manual: []
  unit:
    - packages/@lumenflow/cli/src/__tests__/docs-generate.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1358.done
dependencies: []
risks: []
notes: ''
requires_review: false
assigned_to: tom@hellm.ai
exposure: documentation
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: The docs generator (tools/generate-cli-docs.ts) only extracts options from WU_OPTIONS in core, missing options defined inline via Commander .option() in CLI files (e.g., --replace-acceptance in wu-edit.ts). This causes incomplete documentation on lumenflow.dev/reference/cli. Additionally, agent onboarding docs should guide agents to run --help before guessing command syntax.
acceptance:
  - Docs generator extracts all Commander options from CLI source files, not just WU_OPTIONS
  - wu:edit --replace-* flags appear in generated cli.mdx documentation
  - All CLI commands show complete option lists in Starlight docs
  - 'Agent onboarding docs include rule: always run pnpm <command> --help before using unfamiliar options'
  - quick-ref-commands.md updated with note about --help for full options
