id: WU-1115
title: 'INIT-003 Phase 1: Prebuild template sync script'
lane: 'Framework: CLI'
type: feature
status: ready
priority: P1
created: 2026-01-26
code_paths:
  - packages/@lumenflow/cli/scripts/
  - packages/@lumenflow/cli/templates/
  - packages/@lumenflow/cli/package.json
tests:
  manual: []
  unit:
    - packages/@lumenflow/cli/__tests__/sync-templates.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1115.done
dependencies: []
initiative: INIT-003
phase: 1
blocked_by: []
labels:
  - build
  - templates
  - automation
risks: []
notes: ''
requires_review: false
assigned_to: ''
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: >-
  Create scripts/sync-templates.ts that copies internal docs to templates
  during build. The script should:
  1. Copy onboarding docs from docs/04-operations/_frameworks/lumenflow/agent/onboarding/
  2. Copy Claude skills from .claude/skills/ to templates/vendors/claude/
  3. Copy core docs (LUMENFLOW.md, constraints.md) with template token replacements
  4. Add prebuild hook to package.json that runs the sync script
  5. Strip internal-only content (HellmAI-specific references) during copy
acceptance:
  - scripts/sync-templates.ts created and functional
  - All 5 onboarding docs synced to templates/core/ai/onboarding/
  - All 14 Claude skills synced to templates/vendors/claude/.claude/skills/
  - Core docs (LUMENFLOW.md, constraints.md) synced with token replacements
  - prebuild script added to package.json
  - Internal-only content stripped (grep -r hellmai templates/ returns empty)
  - Unit tests for sync logic achieve 90% coverage
