id: INIT-048
slug: kernel-hardening
title: 'Kernel Hardening: Network Policy, macOS Sandbox, Advanced Scope Controls'
description: 'Harden the LumenFlow kernel based on community feedback. Addresses top gaps: granular
  network allowlisting, macOS sandbox hardening, and argument-level policy rules. Extends the
  existing four-layer kernel (scope + evidence + policy + sandbox) with network-level controls and
  platform parity.'
status: draft
priority: P1
owner: tom
created: 2026-02-27
phases:
  - id: 1
    title: 'Phase 1: Network Policy and macOS Sandbox'
    status: pending
  - id: 2
    title: 'Phase 2: Advanced Policy Controls'
    status: pending
  - id: 3
    title: 'Phase 3: Compliance and Attestation'
    status: pending
success_metrics:
  - Granular network allowlisting (domain/port per scope level)
  - macOS sandbox backend (Seatbelt/sandbox-exec) functional
  - Argument-level policy rules for MCP tool calls
  - Time-boxed permissions with auto-expiry
  - Dynamic policy hot-reload without kernel restart
labels: []
notes:
  - Phase 3 (Compliance and Attestation) deferred after design-first review. See plan file for
    rationale.
